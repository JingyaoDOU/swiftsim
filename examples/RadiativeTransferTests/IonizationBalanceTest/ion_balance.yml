MetaData:
  run_name: "Ionization Balance Test"

# Define the system of units to use internally. 
InternalUnitSystem:
  UnitMass_in_cgs:     1.98841586e43 # 10^10 M_Sol   
  UnitLength_in_cgs:   3.08567758e21   # kpc
  UnitVelocity_in_cgs: 1.0e5      # Kilometers per second
  UnitCurrent_in_cgs:  1   # Amperes
  UnitTemp_in_cgs:     1   # Kelvin

# Parameters governing the time integration
TimeIntegration:
  time_begin: 0.    # The starting time of the simulation (in internal units).
  time_end:   1e-1   # The end time of the simulation (in internal units).
  dt_min:     1e-14  # The minimal time-step size of the simulation (in internal units).
  dt_max:     1e-2  # The maximal time-step size of the simulation (in internal units).

# Parameters governing the snapshots
Snapshots:
  basename:            output # Common part of the name of output files
  time_first:          0.       # Time of the first output (in internal units)
  delta_time:          1e-3     # Time difference between consecutive outputs (in internal units: 10 Myr)


# Parameters governing the conserved quantities statistics
Statistics:
  time_first:          0.
  delta_time:          1e-2 # Time between statistics output


# Parameters for the hydrodynamics scheme
SPH:
  resolution_eta:        1.2348   # Target smoothing length in units of the mean inter-particle separation (1.2348 == 48Ngbs with the cubic spline kernel).
  CFL_condition:         0.1      # Courant-Friedrich-Levy condition for time integration.
  minimal_temperature:   100.       # Kelvin


# Parameters related to the initial conditions
InitialConditions:
  file_name:  ./ionization_balance_test.hdf5  # The file to read
  periodic:   1                     # periodic ICs

#Scheduler:
  #max_top_level_cells: 12
  #tasks_per_cell: 93 #TK test to avoid (Task list overflow) (value depends on specific problems)

SPHM1RT:
  cred: 2.99792458e3                                  # value of reduced speed of light for the RT solver in code unit
  CFL_condition: 0.1                                  # CFL condition for RT, independent of hydro 
  photon_groups_Hz: [3.288e15, 5.945e15, 13.157e15]   # Photon frequency group bin edges in Hz. Needs to be 1 less than the number of groups (N) requested during the configuration (--with-RT=SPHM1RT_N). Outer edges of zero and infinity are assumed.
  use_const_emission_rates: 1                         # (Optional) use constant emission rates for stars as defined with star_emission_rates_LSol parameter
  star_emission_rates: [1e-32, 1e-32, 1e-32, 1e-32]   # (Optional) constant star emission rates (internal unit: energy/time) for each photon frequency group to use if use_constant_emission_rates is set.
  stellar_spectrum_type: 0                          # Which radiation spectrum to use. 0: constant from 0 until some max frequency set by stellar_spectrum_const_max_frequency_Hz. 1: blackbody spectrum.
  stellar_spectrum_const_max_frequency_Hz: 1.e17    # (Conditional) if stellar_spectrum_type=0, use this maximal frequency for the constant spectrum. 
  stars_max_timestep: 1.953125e-06                  # update stars every step!
  skip_thermochemistry: 0                             # (Optional) skip the thermochemistry. This is intended only for debugging and testing the radiation transport, as it breaks the purpose of RT.
  init_mass_fraction_metal:     0.                    # (Optional) Inital mass fraction of particle mass in *all* metals (if it is set, the initial fraction will be over-written.)
  init_mass_fraction_Hydrogen:  0.99999                   # (Conditional) (if init_mass_fraction_metal != -1.0f) Inital mass fraction of particle mass in Hydrogen
  init_mass_fraction_Helium:    1e-5                   # (Conditional) (if init_mass_fraction_metal != -1.0f) Inital mass fraction of particle mass in Helium
  coolingon:              1                           # (Optional) switch for cooling (and photoheating), but photo-ionization will be ongoing even if coolingon==0 
  useabundances:              1                       # (Optional) use the species abundances below, instead of reading from initial condition
  init_species_abundance_e:        1e-5               # (Conditional) (if useabundances==1) free electron abundances (in unit hydrogen number density:nH)
  init_species_abundance_HI:       0.99999            # (Conditional) (if useabundances==1) HI abundances (in unit hydrogen number density:nH)
  init_species_abundance_HII:      1e-5               # (Conditional) (if useabundances==1) HII abundances (in unit hydrogen number density:nH)
  init_species_abundance_HeI:      0.0                # (Conditional) (if useabundances==1) HeI abundances (in unit hydrogen number density:nH)
  init_species_abundance_HeII:     0.0                # (Conditional) (if useabundances==1) HeII abundances (in unit hydrogen number density:nH)
  init_species_abundance_HeIII:    0.0                # (Conditional) (if useabundances==1) HeIII abundances (in unit hydrogen number density:nH)  relativeTolerance:          1e-3                    # (Optional) Relative tolerance for SPHM1RT thermo-chemistry intergration
  absoluteTolerance:          1e-10                   # (Optional) Absolute tolerance for SPHM1RT thermo-chemistry integration
  explicitTolerance:          0.1                     # (Optional) Tolerance below which we use the explicit solution in SPHM1RT thermo-chemistry
  ionizing_photon_energy_erg: [3.0208e-11, 5.61973e-11, 1.05154e-10]  # (Optional) ionizing photon energy in erg in different frequency bins
  fixphotondensity:       1                           # (Optional) switch for fixing the photo-density
  Fgamma_fixed_cgs: [2.85e11, 5.85e11, 1.30e11] #fixed gas cell photon flux (photon / cm^2 / s)

